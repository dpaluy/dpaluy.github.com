
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Paluy on Miscellaneous</title>
  <meta name="author" content="David Paluy">

  
  <meta name="description" content="The only valid measurement of code quality: WTFs/minute source I would like to cover code quality tools I use while developing Rails applications. Of &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://dpaluy.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Paluy on Miscellaneous" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-29316119-2']);
    _gaq.push(['_trackPageview']);
    setTimeout("_gaq.push(['_trackEvent', '15_seconds', 'read'])", 15000);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Paluy on Miscellaneous</a></h1>
  
    <h2>Of course I'm an optimist - I don't see much point in being anything else. - Winston Churchill</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:dpaluy.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/09/09/rails-code-quality-tools/">Rails Code Quality Tools</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-09T14:03:00-04:00" pubdate data-updated="true">Sep 9<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><em>The only valid measurement of code quality: WTFs/minute</em> <br /><a href="http://www.osnews.com/story/19266/WTFs_m" target="_blank">source</a></p>

<p>I would like to cover code quality tools I use while developing Rails applications.</p>

<p>Of course you should try <a href="https://codeclimate.com/" target="_blank">CodeClimate</a> service to monitor your project, but&#8230;</p>

<h2>Let`s overview some open source solutions:</h2>

<h3>1. <a href="https://github.com/railsbp/rails_best_practices">Rails Best Practises</a> - RBP</h3>

<p>It&#8217;s a static code analysis tool that checks the quality of rails code. It can be <a href="https://github.com/railsbp/rails_best_practices#customize-configuration" target="_blank">customized</a> for your needs and even add your own <a href="https://github.com/railsbp/rails_best_practices/wiki/How-to-write-your-own-check-list" target="_blank">checklist</a></p>

<p>I prefer to add RBP analysis to CI tasks, as following:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rails_best_practices -f html --template config/my_rails_best_practices.html.erb .</span></code></pre></td></tr></table></div></figure>


<p>while I use my custom RBP template report <code>config/my_rails_best_practices.html.erb</code>. The RBP report is a part of my CI artifacts.</p>

<p><strong>Alternative 1</strong>: <a href="https://github.com/roodi/roodi" target="_blank">ROODI</a> - Ruby Object Oriented Design Inferometer.
Usage: <code>roodi -config=config/roodi.yml "app/**/*.rb" "lib/**/*.rb" &gt; roodi_report.txt</code></p>

<p><strong>Alternative 2</strong>: <a href="https://github.com/bbatsov/rubocop" target="_blank">Rubocop</a></p>

<p><strong>Alternative 3</strong>: <a href="https://github.com/square/cane" target="_blank">Cane</a></p>

<p><strong>Alternative 4</strong>: <a href="http://rubydoc.info/github/YorickPeterse/ruby-lint/
" target="_blank">Ruby Lint</a></p>

<h3>2. Code Coverage - <a href="https://github.com/colszowka/simplecov" target="_blank">SimpleCov</a></h3>

<p>Add the following code to <code>spec_helper.rb</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;rubygems&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="no">ENV</span><span class="o">[</span><span class="s2">&quot;COVERAGE&quot;</span><span class="o">]</span>
</span><span class='line'>  <span class="nb">require</span> <span class="s1">&#39;simplecov&#39;</span>
</span><span class='line'>  <span class="no">SimpleCov</span><span class="o">.</span><span class="n">start</span> <span class="s1">&#39;rails&#39;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># ...</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Note</strong>: Add <code>export COVERAGE=true</code> before you run your tests.</p>

<h3>3. <a href="https://github.com/bbatsov/ruby-style-guide" target="_blank">Ruby Style Guide</a>, <a href="https://github.com/bbatsov/rails-style-guide" target="_blank">Rails Style Guide</a> and <a href="https://github.com/airbnb/javascript" target="_blank">JavaScript Guide</a></h3>

<p>Your team should apply those guides or define your own. You should also check those <a href="https://github.com/styleguide/" target="_blank">Github guides</a>.</p>

<h3>4. Rails Security Scanner - <a href="http://brakemanscanner.org/" target="_blank">Brakeman</a></h3>

<h3>Note:</h3>

<p>Read this <a href="http://blog.codeclimate.com/blog/2013/08/07/deciphering-ruby-code-metrics/">blog post</a> by CodeClimate</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/09/07/rspec-less-known-features/">RSpec - Less Known Features</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-07T03:41:00-04:00" pubdate data-updated="true">Sep 7<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I would like to summarize some of less known RSpec feature I use during my development.</p>

<h3>Execute specific test from command line</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># spec/controllers/user_controller_spec.rb</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;spec_helper&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">describe</span> <span class="no">UsersController</span> <span class="k">do</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">before</span> <span class="p">(</span><span class="ss">:each</span><span class="p">)</span> <span class="k">do</span>
</span><span class='line'>    <span class="vi">@user</span> <span class="o">=</span> <span class="no">FactoryGirl</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:user</span><span class="p">)</span>
</span><span class='line'>    <span class="n">sign_in</span> <span class="vi">@user</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">describe</span> <span class="s2">&quot;GET &#39;show&#39;&quot;</span> <span class="k">do</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s2">&quot;should be successful&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">get</span> <span class="ss">:show</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="vi">@user</span><span class="o">.</span><span class="n">id</span>
</span><span class='line'>      <span class="n">response</span><span class="o">.</span><span class="n">should</span> <span class="n">be_success</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s2">&quot;should find the right user&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">get</span> <span class="ss">:show</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="vi">@user</span><span class="o">.</span><span class="n">id</span>
</span><span class='line'>      <span class="n">assigns</span><span class="p">(</span><span class="ss">:user</span><span class="p">)</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="vi">@user</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Suppose you want to test only the test at line <em>#17</em>. You can append the line number to file pathrun:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rspec</span> <span class="n">spec</span><span class="o">/</span><span class="n">controllers</span><span class="o">/</span><span class="n">user_controller_spec</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">17</span>
</span></code></pre></td></tr></table></div></figure>


<p>It will run only the test inside the scoped line. The same can be used with <em>describe</em>/<em>context</em>.</p>

<h3>Temporary pending test</h3>

<p>Suppose you need temporary disable a test at line <em>#8</em>. You can add <strong>x</strong> before <strong>it</strong> and the test is <strong>pending</strong> now.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">describe</span> <span class="s2">&quot;GET &#39;show&#39;&quot;</span> <span class="k">do</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">it</span> <span class="s2">&quot;should be successful&quot;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">get</span> <span class="ss">:show</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="vi">@user</span><span class="o">.</span><span class="n">id</span>
</span><span class='line'>    <span class="n">response</span><span class="o">.</span><span class="n">should</span> <span class="n">be_success</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># THIS TEST IS PENDING NOW</span>
</span><span class='line'>  <span class="n">xit</span> <span class="s2">&quot;should find the right user&quot;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">get</span> <span class="ss">:show</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="vi">@user</span><span class="o">.</span><span class="n">id</span>
</span><span class='line'>    <span class="n">assigns</span><span class="p">(</span><span class="ss">:user</span><span class="p">)</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="vi">@user</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Focus on specific test</h3>

<p>Add a tag to the selected test:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">describe</span> <span class="s2">&quot;GET &#39;show&#39;&quot;</span> <span class="k">do</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">it</span> <span class="s2">&quot;should be successful&quot;</span><span class="p">,</span> <span class="n">focus</span><span class="p">:</span> <span class="kp">true</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">get</span> <span class="ss">:show</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="vi">@user</span><span class="o">.</span><span class="n">id</span>
</span><span class='line'>    <span class="n">response</span><span class="o">.</span><span class="n">should</span> <span class="n">be_success</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">it</span> <span class="s2">&quot;should find the right user&quot;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">get</span> <span class="ss">:show</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="vi">@user</span><span class="o">.</span><span class="n">id</span>
</span><span class='line'>    <span class="n">assigns</span><span class="p">(</span><span class="ss">:user</span><span class="p">)</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="vi">@user</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then, run rspec as following: <code>rspec -t focus</code></p>

<h3>Rails.logger stub</h3>

<p>If you need to stub Rails logger, you should do the following:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># Expecting to receive Rails.logger.debug some_message</span>
</span><span class='line'><span class="n">let</span><span class="p">(</span><span class="ss">:logger_mock</span><span class="p">)</span> <span class="p">{</span> <span class="n">double</span><span class="p">(</span><span class="s2">&quot;Rails.logger&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_null_object</span> <span class="p">}</span>
</span><span class='line'><span class="no">Rails</span><span class="o">.</span><span class="n">stub_chain</span><span class="p">(</span><span class="ss">:logger</span><span class="p">,</span> <span class="ss">:debug</span><span class="p">)</span><span class="o">.</span><span class="n">and_return</span><span class="p">(</span><span class="n">logger_mock</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># your test goes here</span>
</span><span class='line'><span class="c1"># ...</span>
</span><span class='line'><span class="c1">#</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Don&#39;t forget to unstub the logger at the end of test!</span>
</span><span class='line'><span class="no">Rails</span><span class="o">.</span><span class="n">unstub</span><span class="p">(</span><span class="ss">:logger</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>More about <a href="https://www.relishapp.com/rspec/rspec-mocks/v/2-0/docs/stubs/stub-a-chain-of-methods">stub_chain</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/08/24/kata-rubyunderground-tlv/">Kata RubyUnderground TLV</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-08-24T03:10:00-04:00" pubdate data-updated="true">Aug 24<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We had a different <a href="http://www.meetup.com/IsraelRubyUnderground/events/116715192/" target="_blank">Meetup event</a>.
Me, <a href="https://twitter.com/arikfr" target="_blank">@arikfr</a> and <a href="https://twitter.com/torkale" target="_blank">@torkale</a> were mentoring Kata groups. None of us had a previous experience doing Kata but we all really liked it.</p>

<p><img src="/images/RubyUndergroundMeetup_Kata_David_Paluy.jpg" alt="RubyUnderground Meetup Kata David Paluy" /></p>

<p><strong>Code Kata</strong> is programming exercise that concentrated not on the final solution, but discussing and implementing the possible ways to solve it.</p>

<p>IMHO, every team should do a 1 hour kata periodically.</p>

<h3>Kata examples:</h3>

<ul>
<li><a href="https://www.youtube.com/watch?v=983zk0eqYLY" target="_blank">Roman Numerals Kata</a></li>
<li><a href="http://vimeo.com/7762511" target="_blank">Prime Factors Kata</a></li>
<li><a href="http://vimeo.com/7961506" target="_blank">String Calculator Kata</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/08/20/steelcity-ruby-my-first-international-ruby-conference/">SteelCity Ruby - My First International Ruby Conference</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-08-20T22:54:00-04:00" pubdate data-updated="true">Aug 20<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>TL;DR</h2>

<p>You have to visit at least one Ruby conference in USA! Check this <a href="#summary">summary</a></p>

<h2>SteelCity Ruby</h2>

<p>At the beginning of this year (2013) I decided that I have to participate in at least one international Ruby conference.
I already participated in Development conferences in Europe and even did several talks. But I have never been in USA Ruby conference yet.</p>

<p>Some one tweeted about <a href="http://steelcityruby.org/">SteelCity Ruby</a> conference and I decided to register immediately.
I found amazing appartment via <a href="https://www.airbnb.com/tell-a-friend?airef=2idrtz00414zz5">AirBnB</a> just near the venue for a half price of a room in hotel.</p>

<p><img src="/images/PIT_AirBnB.jpg" alt="View from my appartment" /></p>

<p>Pittsburgh is a very nice city with amazing Ruby community. They have a pub inside a church (The Church Brew Works)</p>

<p><img src="/images/PIT_The_Church_Brew_Works.jpg" alt="The Church Brew Works" /></p>

<p>and Pittsburgh Sandwich with French fries</p>

<p><img src="/images/PIT_pittsburgh_sandwich.jpg" alt="Pittsburgh Sandwich" /></p>

<p>But let&#8217;s go back to the Ruby. Did you know that <a href="http://www.steveklabnik.com/" target="_blank">Steve Klabnik</a> lived in Pittsburgh till last year?</p>

<p><img src="/images/PIT_Steve_Klabnik_David_Paluy.jpg" alt="Ruby Friends - Steve Klabnik with David Paluy" /></p>

<p>I really like the &#8220;community feel&#8221; of this event. The organizers did amazing job! It&#8217;s all done by local volunteers with help of sponsors.</p>

<p>I was introduced to other at the beginning of first day, when the conference moderator asked, who did more than 10,000 miles to arrive to that event.</p>

<p>I met a lot of great developers and had some #RubyFriends <a href="https://twitter.com/robbkidd/status/368384756217413633" target="_blank">pictures</a>. BTW, if you still don&#8217;t have a <a href="http://rubyfriends.com/" target="_blank">RubyFriends picture</a>, go to a local meetup and do at least one!</p>

<p>I had an interesting talk with founder of <a href="https://www.gittip.com/" target="_blank">Gittip</a> Chad Whitacre. He founded amazing product to support Open Source community.</p>

<p><img src="/images/PIT_Chad_Whitacre_David_Paluy.jpg" alt="Ruby Friends - Chad Whitacre with David Paluy" /></p>

<p>I also invited <a href="http://about.avdi.org/">Avdi Grimm</a> to come to Israel and give a talk in one of our events.</p>

<p><img src="/images/PIT_Avdi_Grimm_David_Paluy.jpg" alt="Ruby Friends - Avdi Grimm with David Paluy" /></p>

<h2>Summary</h2>

<p>More conference pictures and other info can be found <a name="summary" href="http://eventifier.co/event/scrc13/photos" target="_blank">here</a>.</p>

<p>You can find the confernece videos <a href="http://steelcityruby.confbots.com/" target="_blank">here</a>. But I would like to advise you to check at least those talks:</p>

<ul>
<li><a href="https://twitter.com/avdi" target="_balnk">@avdi</a>&#8217;s talk about <a href="http://steelcityruby.confbots.com/video/73590687" target="_blank">metaprogramming, coding for fun, and the joy of sharing</a></li>
<li><a href="http://steelcityruby.confbots.com/video/72762735" target="_blank">Deliberate Git</a> by Stephen Ball with <a href="https://speakerdeck.com/sdball/deliberate-git" target="_blank">slides</a> and <a href="http://rakeroutes.com/blog/deliberate-git" target="_blank">text version</a> or his presentation.</li>
<li><a href="http://steelcityruby.confbots.com/video/72791610" target="_blank">DevOps for the Ruby Soul</a> by John Downey  (<a href="https://speakerdeck.com/jtdowney/devops-for-the-rubyist-soul-at-steel-city-ruby-2013" target="_blank">slides</a>)</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/05/my-weekly-read/">My Weekly Read</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-05T17:31:00-04:00" pubdate data-updated="true">Jul 5<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>I have several weekly subscriptions that you, as a web software leader, should read too</h2>

<ul>
<li><a target="_blank" href="http://softwareleadweekly.com">Software Lead Weekly</a> - Friday emails by Oren Ellenbogen, with good overview of interesting posts, relevant for Software Leaders.</li>
</ul>


<p><strong>Example:</strong> <a target="_blank" href="http://softwareleadweekly.com/issues/33/4">What Dan Ariely can teach us about Software Development</a></p>

<h3>Other weeklies by <a target="_blank" href="https://twitter.com/peterc">Peter Cooper</a>:</h3>

<ol>
<li><a target="_blank" href="http://javascriptweekly.com">JavaScript Weekly</a> - all about JavaScript</li>
<li><a target="_blank" href="http://html5weekly.com">HTML5 Weekly</a> - all about HTML5</li>
<li><a target="_blank" href="http://rubyweekly.com">Ruby Weekly</a> - all about Ruby</li>
</ol>


<h3>Another weeklies that could be relevant for some of you:</h3>

<ul>
<li><a target="_blank" href="http://www.nosqlweekly.com">NoSQL Weekly</a> - Thursday weekly on NoSQL news</li>
<li><a target="_blank" href="http://goodui.org">Good UI</a> - Twice a month email on UI/UX ideas and tips</li>
<li><a target="_blank" href="http://devopsweekly.com/">DevOps Weekly</a> - Weekly on DevOps news</li>
<li><a target="_blank" href="http://www.pythonweekly.com/">Python Weekly</a> - if you aren&#8217;t Ruby developer</li>
</ul>


<h2>My other sources comes from:</h2>

<ul>
<li><a target="_blank" href="http://highscalability.com">HighScalability</a></li>
<li><a target="_blank" href="http://www.infoq.com">InfoQ</a></li>
<li>Podcasts, Blogs, Twitter etc.</li>
<li><a target="_blank" href="http://news.ycombinator.com">HackerNews</a></li>
</ul>


<h2>What is yours?</h2>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/29/process-information/">Process Information</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-29T23:09:00-04:00" pubdate data-updated="true">Apr 29<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I found it very useful to see my application process info on an admin page, as following:</p>

<p><img src="/images/process_info.png" title="Process Info" ></p>

<p>You can do it inside your Rails app.</p>

<p>Inside your <em>controller/admin_controller.rb</em>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">index</span>
</span><span class='line'>  <span class="vi">@processes</span> <span class="o">=</span> <span class="sb">`ps -g </span><span class="si">#{</span><span class="no">Process</span><span class="o">.</span><span class="n">getsid</span><span class="p">(</span><span class="vg">$$</span><span class="p">)</span><span class="si">}</span><span class="sb"> -o pid,wchan,%cpu,%mem,rss,vsz,command`</span><span class="o">.</span><span class="n">strip</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="vi">@proc_headers</span> <span class="o">=</span> <span class="vi">@processes</span><span class="o">.</span><span class="n">shift</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sr">/\s+/</span><span class="p">)</span>
</span><span class='line'>  <span class="vi">@processes</span><span class="o">.</span><span class="n">map!</span> <span class="p">{</span> <span class="o">|</span><span class="n">line</span><span class="o">|</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sr">/\s+/</span><span class="p">,</span> <span class="vi">@proc_headers</span><span class="o">.</span><span class="n">size</span><span class="p">)</span> <span class="p">}</span><span class="o">.</span>
</span><span class='line'>      <span class="n">reject!</span> <span class="p">{</span> <span class="o">|</span><span class="n">line</span><span class="o">|</span> <span class="n">line</span><span class="o">.</span><span class="n">last</span><span class="o">.</span><span class="n">start_with?</span><span class="p">(</span><span class="s1">&#39;ps -g&#39;</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>and add the following to your <em>view/admin/index.html.erb</em></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='erb'><span class='line'><span class="x">&lt;table&gt;</span>
</span><span class='line'><span class="x">  &lt;thead&gt;</span>
</span><span class='line'><span class="x">    &lt;tr&gt;</span>
</span><span class='line'><span class="x">    </span><span class="cp">&lt;%</span> <span class="vi">@proc_headers</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">th</span><span class="o">|</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">      &lt;th&gt;</span><span class="cp">&lt;%=</span> <span class="n">th</span> <span class="cp">%&gt;</span><span class="x">&lt;/th&gt;</span>
</span><span class='line'><span class="x">    </span><span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">    &lt;/tr&gt;</span>
</span><span class='line'><span class="x">  &lt;/thead&gt;</span>
</span><span class='line'><span class="x">  &lt;tbody&gt;</span>
</span><span class='line'><span class="x">    </span><span class="cp">&lt;%</span> <span class="vi">@processes</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">line</span><span class="o">|</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">      &lt;tr&gt;</span>
</span><span class='line'><span class="x">      </span><span class="cp">&lt;%</span> <span class="n">line</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">td</span><span class="o">|</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">        &lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">td</span> <span class="cp">%&gt;</span><span class="x">&lt;/td&gt;</span>
</span><span class='line'><span class="x">      </span><span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">      &lt;/tr&gt;</span>
</span><span class='line'><span class="x">    </span><span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">  &lt;/tbody&gt;</span>
</span><span class='line'><span class="x">&lt;/table&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>I would like to thank <a href="https://twitter.com/romanbsd">@romanbsd</a> for this source.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/16/protect-email-from-spam-bots/">Protect Email From Spam Bots</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-16T23:54:00-04:00" pubdate data-updated="true">Apr 16<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>TL;DR</h2>

<p>Spam bots are getting a lot smarter at harvesting email addresses from web pages. Use <em>encode</em> option while using <a href="http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-mail_to" target="_blank">mail_to</a></p>

<h2>Ways to protect your email: me@domain.com</h2>

<ul>
<li>Weak solution - substitute characters: <strong>me_at_domain_dot_com</strong></li>
<li>Weak solution - HEX encoding: <strong>%6d%65@%64%6f%6d%61%69%6e.%63%6f%6d</strong></li>
<li>Better solution - Javascript encoding:</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">mail_to</span> <span class="s2">&quot;me@domain.com&quot;</span><span class="p">,</span> <span class="s2">&quot;Contact us&quot;</span><span class="p">,</span> <span class="ss">:encode</span> <span class="o">=&gt;</span> <span class="s2">&quot;javascript&quot;</span>
</span><span class='line'><span class="c1"># =&gt; &lt;script type=&quot;text/javascript&quot;&gt;eval(decodeURIComponent(&#39;%64%6f%63...%27%29%3b&#39;))&lt;/script&gt;</span>
</span><span class='line'><span class="c1">#</span>
</span><span class='line'><span class="c1"># The JavaScript evaluates the following:</span>
</span><span class='line'><span class="c1"># document.write(&#39;&lt;a href=\&quot;mailto:me@domain.com\&quot;&gt;Contact us&lt;\/a&gt;&#39;);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Check more details <a href="http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-mail_to" target="_blank">here</a>.</p>

<h3>Another way to encode your mail_to with JavaScript</h3>

<p><a href="http://www.jottings.com/obfuscator.htm" target="_blank">Email obfuscator script 2.1 by Tim Williams</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="n">script</span> <span class="n">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;!--</span>
</span><span class='line'><span class="sr">//</span> <span class="no">Email</span> <span class="n">obfuscator</span> <span class="n">script</span> <span class="mi">2</span><span class="o">.</span><span class="mi">1</span> <span class="n">by</span> <span class="no">Tim</span> <span class="no">Williams</span><span class="p">,</span> <span class="no">University</span> <span class="n">of</span> <span class="no">Arizona</span>
</span><span class='line'><span class="sr">//</span> <span class="no">Random</span> <span class="n">encryption</span> <span class="n">key</span> <span class="n">feature</span> <span class="n">by</span> <span class="no">Andrew</span> <span class="no">Moulden</span><span class="p">,</span> <span class="no">Site</span> <span class="no">Engineering</span> <span class="no">Ltd</span>
</span><span class='line'><span class="sr">//</span> <span class="no">This</span> <span class="n">code</span> <span class="n">is</span> <span class="n">freeware</span> <span class="n">provided</span> <span class="n">these</span> <span class="n">four</span> <span class="n">comment</span> <span class="n">lines</span> <span class="n">remain</span> <span class="n">intact</span>
</span><span class='line'><span class="sr">//</span> <span class="n">A</span> <span class="n">wizard</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">this</span> <span class="n">code</span> <span class="n">is</span> <span class="n">at</span> <span class="n">http</span><span class="ss">:/</span><span class="o">/</span><span class="n">www</span><span class="o">.</span><span class="n">jottings</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">obfuscator</span><span class="o">/</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">coded</span> <span class="o">=</span> <span class="s2">&quot;B6@LSBeJv.ASB&quot;</span>
</span><span class='line'>  <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;78ncPmS9z0hseXrvAKBlgi1OC6tjYU2qdIJw5MVfQyb3ZLH4ExRWNTpoFkuGDa&quot;</span>
</span><span class='line'>  <span class="n">shift</span><span class="o">=</span><span class="n">coded</span><span class="o">.</span><span class="n">length</span>
</span><span class='line'>  <span class="n">link</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
</span><span class='line'>  <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">coded</span><span class="o">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="n">coded</span><span class="o">.</span><span class="n">charAt</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="o">==-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="n">ltr</span> <span class="o">=</span> <span class="n">coded</span><span class="o">.</span><span class="n">charAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span><span class='line'>      <span class="n">link</span> <span class="o">+=</span> <span class="p">(</span><span class="n">ltr</span><span class="p">)</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>      <span class="n">ltr</span> <span class="o">=</span> <span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="n">coded</span><span class="o">.</span><span class="n">charAt</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="o">-</span><span class="n">shift</span><span class="o">+</span><span class="n">key</span><span class="o">.</span><span class="n">length</span><span class="p">)</span> <span class="o">%</span> <span class="n">key</span><span class="o">.</span><span class="n">length</span>
</span><span class='line'>      <span class="n">link</span> <span class="o">+=</span> <span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">charAt</span><span class="p">(</span><span class="n">ltr</span><span class="p">))</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="n">document</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;&lt;a href=&#39;mailto:&quot;</span><span class="o">+</span><span class="n">link</span><span class="o">+</span><span class="s2">&quot;&#39;&gt;Contact us&lt;/a&gt;&quot;</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="sr">//</span><span class="o">--&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="sr">/script&gt;&lt;noscript&gt;Sorry, you need Javascript on to email me.&lt;/nos</span><span class="n">cript</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Important! You can&#8217;t protect your email 100%</h3>

<p>If the bot evaluates JavaScript before harvesting email addresses, you can&#8217;t resist it.</p>

<p>For example, it can be done using <a href="http://phantomjs.org/" target='_blank'>PhantomJS</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/15/caution-to-time-in-rails/">Caution - To_time in Rails</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-15T13:14:00-04:00" pubdate data-updated="true">Apr 15<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>TL;DR</h2>

<p>Attention on time zone while using <em>today.to_time</em> in your Rails application!</p>

<h2>Ruby <em>to_time</em> in your Rails application</h2>

<p>Suppose, you need to convert some date to datetime. You can use the Ruby <a href="http://api.rubyonrails.org/classes/Date.html#method-i-to_time" target="_blank">to_time</a> method:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">date</span> <span class="o">=</span> <span class="no">Date</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mo">04</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">date</span><span class="o">.</span><span class="n">to_time</span>            <span class="c1"># 2013-04-15 00:00:00 +0300</span>
</span><span class='line'><span class="n">date</span><span class="o">.</span><span class="n">to_time</span><span class="p">(</span><span class="ss">:local</span><span class="p">)</span>    <span class="c1"># 2013-04-15 00:00:00 +0300</span>
</span><span class='line'><span class="c1"># The Time Zone depends on your local machine</span>
</span><span class='line'>
</span><span class='line'><span class="n">date</span><span class="o">.</span><span class="n">to_time</span><span class="p">(</span><span class="ss">:utc</span><span class="p">)</span>      <span class="c1"># 2013-04-15 00:00:00 +0000</span>
</span></code></pre></td></tr></table></div></figure>


<p>If your server time zone is UTC, but Rails application has different time zone, for example:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">time_zone</span> <span class="o">=</span> <span class="s1">&#39;Central Time (US &amp; Canada)&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>converting from date to time will ignore Rails settings!</p>

<p>It happens, when you need to output your date in epoch format (for example: in json).</p>

<p>I suggest to convert your date to utc and than to epoch.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">epoch</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">to_time</span><span class="p">(</span><span class="ss">:utc</span><span class="p">)</span><span class="o">.</span><span class="n">to_i</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then, apply local time zone using JavaScript::</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">var</span> <span class="n">date</span> <span class="o">=</span> <span class="kp">new</span> <span class="no">Date</span><span class="p">(</span><span class="n">epoch</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/09/profiling-rails-applications/">Profiling Rails Applications</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-09T01:49:00-04:00" pubdate data-updated="true">Apr 9<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Your finaly got clients and everything works fine.</p>

<p><img src="/images/mass_attack.gif" title="Users Attack" ></p>

<p>But users expect several performance issues.</p>

<h2>How can I profile my Ruby on Rails application?</h2>

<h3>Available Tools</h3>

<ul>
<li><a href="#gc-profiler">GC::Profiler</a></li>
<li><a href="#ruby-benchmark">Ruby Benchmark</a></li>
<li><a href="#object-space">ObjectSpace</a></li>
<li><a href="#ruby-prof">gem ruby-prof</a></li>
<li><a href="#perftools">gem perftools.rb</a></li>
</ul>


<h4 id='gc-profiler'><a href="http://ruby-doc.org/core-1.9.3/GC/Profiler.html" target="_blank">GC::Profiler</a></h4>


<p>The GC profiler provides access to information on GC runs including time, length and object space size.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">GC</span><span class="o">.</span><span class="n">start</span> <span class="c1"># clear GC before profiling</span>
</span><span class='line'><span class="no">GC</span><span class="o">::</span><span class="no">Profiler</span><span class="o">.</span><span class="n">enable</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># your code</span>
</span><span class='line'>
</span><span class='line'><span class="no">GC</span><span class="o">.</span><span class="n">start</span>
</span><span class='line'><span class="nb">puts</span> <span class="no">GC</span><span class="o">::</span><span class="no">Profiler</span><span class="o">.</span><span class="n">report</span>
</span><span class='line'><span class="no">GC</span><span class="o">::</span><span class="no">Profiler</span><span class="o">.</span><span class="n">disable</span>
</span></code></pre></td></tr></table></div></figure>




<h4 id='ruby-benchmark'><a href="http://www.ruby-doc.org/stdlib-1.9.3/libdoc/benchmark/rdoc/Benchmark.html" target="_blank">Ruby Benchmark</a></h4>


<p>Ruby has core module to Benchmark your code. It helps you to mesure running time of your code.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;benchmark&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="no">Benchmark</span><span class="o">.</span><span class="n">bm</span> <span class="k">do</span><span class="o">|</span><span class="n">b</span><span class="o">|</span>
</span><span class='line'>  <span class="n">b</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="s2">&quot;+= &quot;</span><span class="p">)</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span class='line'>    <span class="mi">500_000</span><span class="o">.</span><span class="n">times</span> <span class="p">{</span> <span class="n">a</span> <span class="o">+=</span> <span class="s2">&quot;.&quot;</span> <span class="p">}</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">b</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="s2">&quot;&lt;&lt; &quot;</span><span class="p">)</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span class='line'>    <span class="mi">500_000</span><span class="o">.</span><span class="n">times</span> <span class="p">{</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;.&quot;</span> <span class="p">}</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>I suggest you to add <a href="https://github.com/evanphx/benchmark_suite" target="_blank">benchmark_suite gem</a>. There is a set of enhancements to the standard library benchmark.rb</p>

<h4 id='object-space'>ObjectSpace</h4>


<p>ObjectSpace class already described in previous <a href="/blog/2013/02/06/debugging-rails-application-part-2/#object-space">post</a>.
You should also check <a href="http://cirw.in/blog/find-references" target="_blank">Visualizing memory leaks in Ruby</a> using ObjectSpace methods.</p>

<h4 id='ruby-prof'><a href="https://github.com/ruby-prof/ruby-prof" target="_blank">RUBY-PROF</a></h4>


<p><strong>How to use in Rails:</strong></p>

<ul>
<li>Add the ruby-prof to your gemfile</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">group</span> <span class="ss">:profile</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;ruby-prof&#39;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Note:</strong> verify your <em>/config/environments/profile.rb</em> has the following settings:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">cache_classes</span> <span class="o">=</span> <span class="kp">true</span>
</span><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">cache_template_loading</span> <span class="o">=</span> <span class="kp">true</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Add rack adapter to <strong>config.ru</strong>:</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">if</span> <span class="no">Rails</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">profile?</span>
</span><span class='line'>  <span class="n">use</span> <span class="no">Rack</span><span class="o">::</span><span class="no">RubyProf</span><span class="p">,</span> <span class="ss">:path</span> <span class="o">=&gt;</span> <span class="s1">&#39;/temp/profile&#39;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Note:</strong> By default the rack adapter will generate a html call graph report and flat text report. You can add printer option as following:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">use</span> <span class="no">Rack</span><span class="o">::</span><span class="no">RubyProf</span><span class="p">,</span> <span class="ss">:path</span> <span class="o">=&gt;</span> <span class="s1">&#39;/temp/profile&#39;</span><span class="p">,</span> <span class="ss">:printers</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="no">RubyProf</span><span class="o">::</span><span class="no">GraphHtmlPrinter</span> <span class="o">=&gt;</span> <span class="s1">&#39;graph.html&#39;</span><span class="p">}</span> <span class="c1"># or any other printer as described</span>
</span></code></pre></td></tr></table></div></figure>


<p>More printers options can be found <a href="https://github.com/ruby-prof/ruby-prof#printers" target="_blank">here</a></p>

<ul>
<li>Add Profile to your code:</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># define mesurment type</span>
</span><span class='line'><span class="c1"># as described: https://github.com/ruby-prof/ruby-prof#measurements</span>
</span><span class='line'><span class="no">RubyProf</span><span class="o">.</span><span class="n">measure_mode</span> <span class="o">=</span> <span class="no">RubyProf</span><span class="o">::</span><span class="no">PROCESS_TIME</span>
</span><span class='line'>
</span><span class='line'><span class="no">RubyProf</span><span class="o">.</span><span class="n">start</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># code to profile</span>
</span><span class='line'>
</span><span class='line'><span class="n">result</span> <span class="o">=</span> <span class="no">RubyProf</span><span class="o">.</span><span class="n">stop</span>
</span></code></pre></td></tr></table></div></figure>




<h4 id='perftools'><a href="https://github.com/tmm1/perftools.rb" target="_blank">Perftools.rb</a></h4>


<p>While ruby-prof is a good tool, I, personally, prefere to use <strong>perftools.rb</strong>.
It also has a <a href="https://github.com/bhb/rack-perftools_profiler" target="_blank">rack gem</a>.</p>

<p>The <strong>main advantage</strong> of perftools: it samples your process using setitimer() so it can be used in production with minimal overhead.</p>

<p><strong>How to use in Rails:</strong></p>

<ul>
<li>Add the rack-perftools_profiler to your gemfile</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">gem</span> <span class="s1">&#39;rack-perftools_profiler&#39;</span><span class="p">,</span> <span class="ss">:require</span> <span class="o">=&gt;</span> <span class="s1">&#39;rack/perftools_profiler&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Add middleware to <strong>config/environment.rb</strong>:</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">middleware</span><span class="o">.</span><span class="n">use</span> <span class="o">::</span><span class="no">Rack</span><span class="o">::</span><span class="no">PerftoolsProfiler</span><span class="p">,</span> <span class="ss">:default_printer</span> <span class="o">=&gt;</span> <span class="s1">&#39;pdf&#39;</span><span class="p">,</span> <span class="ss">:bundler</span> <span class="o">=&gt;</span> <span class="kp">true</span>
</span></code></pre></td></tr></table></div></figure>


<p>See more options <a href="https://github.com/bhb/rack-perftools_profiler#options" target="_blank">here</a>.</p>

<ul>
<li>Profile your application</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">curl</span> <span class="n">http</span><span class="ss">:/</span><span class="o">/</span><span class="n">localhost</span><span class="p">:</span><span class="mi">3000</span><span class="o">/</span><span class="n">__start__</span>
</span><span class='line'><span class="n">curl</span> <span class="n">http</span><span class="ss">:/</span><span class="o">/</span><span class="n">localhost</span><span class="p">:</span><span class="mi">3000</span><span class="o">/</span><span class="n">__stop__</span>
</span><span class='line'><span class="n">curl</span> <span class="n">http</span><span class="ss">:/</span><span class="o">/</span><span class="n">localhost</span><span class="p">:</span><span class="mi">3000</span><span class="o">/</span><span class="n">__data__</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Visualization of your report</h3>

<ul>
<li>ruby-prof and perftools.rb has support for different output formats. One of them is <a href="http://kcachegrind.sourceforge.net/html/Home.html" target="_blank">KCacheGrind</a></li>
<li>In Ruby 2 you can gather your stack traces. Read more <a href="Flame graphs in Ruby MiniProfiler" target="_blank">here</a></li>
</ul>


<h2>Summary</h2>

<ul>
<li>Remember: More Objects => Longer GC => Slow application</li>
<li>Always examine your HEAP</li>
<li>Use Tools!</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/06/debugging-rails-application-part-2/">Debugging Rails Application - Part 2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-06T11:32:00-05:00" pubdate data-updated="true">Feb 6<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In previous <a href="/blog/2013/01/30/debugging-rails-application-part1/">post</a>, I described which tools I use for debugging Rails (Ruby) applications.</p>

<p>In this post I will show you how to debug your Garbage Collector.</p>

<h3>Why should I debug my GC?</h3>

<p>First, you should understand how ruby allocates memory for new objects.
What happened inside your OS, each time you write <code>book = Book.new</code>?</p>

<p><img src="/images/how_ruby_works.png" alt="How Ruby Memory Works" /></p>

<p>RVM defines Process Heap for each Ruby process. Than, it creates first Ruby Heap.
Each Ruby Heap contains allocated objects. There is a &#8220;Free List&#8221; array inside the heap.</p>

<p><img src="/images/freelist_ruby_heap.png" alt="Ruby Heap - Free List" /></p>

<p>While new object allocated, the RVM looks for an empty place in &#8220;Free List&#8221; and allocates it for a newly creted one.
If the &#8220;Free List&#8221; is empty (all slots are allocated), RVM calls to Garbage Collector (GC).</p>

<p>The Garbage Collector finds non-reachable objects and remove them. If &#8220;Free List&#8221; is still empty, another Heap allocated.</p>

<p><strong>Conclusion</strong>: The more objects we have, the longer GC process. And it&#8217;s a cause for slow application.</p>

<h3>How should I debug my GC?</h3>

<p>I suggest to use <a href="https://github.com/nixme/pry-debugger">pry-debugger</a>.</p>

<p>There are several tools we can use while debugging:</p>

<ul>
<li><em>ObjectSpace class</em></li>
<li><em>Heap dump (via GC patch)</em></li>
</ul>


<p>But to get it all functionality you need to use patched version of Ruby.</p>

<p>To enable heap dump support, pass the <em>-enable-gcdebug</em> option to the rvm install command:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rvm install 1.9.3 -C --enable-gcdebug -n gcdebug</span></code></pre></td></tr></table></div></figure>




<h4 id="object-space"><a href="http://ruby-doc.org/core-1.9.3/ObjectSpace.html" target="_blank">ObjectSpace class</a></h4>


<ul>
<li><em>ObjectSpace.count_objects</em> - returns a hash of counts objects of each type</li>
<li><a href="http://cirw.in/blog/find-references">Visualizing memory leaks in Ruby</a></li>
</ul>


<p>An example of method I used to get a better output:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">get_object_stats</span>
</span><span class='line'>  <span class="n">return_value</span> <span class="o">=</span> <span class="no">Hash</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'>  <span class="no">ObjectSpace</span><span class="o">::</span><span class="n">each_object</span><span class="p">(</span><span class="no">Object</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span><span class="n">my_object</span><span class="o">|</span>
</span><span class='line'>    <span class="k">unless</span> <span class="n">return_value</span><span class="o">[</span><span class="n">my_object</span><span class="o">.</span><span class="n">class</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">downcase</span><span class="o">].</span><span class="n">nil?</span>
</span><span class='line'>      <span class="n">return_value</span><span class="o">[</span><span class="n">my_object</span><span class="o">.</span><span class="n">class</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">downcase</span><span class="o">][</span><span class="ss">:count</span><span class="o">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class='line'>    <span class="k">else</span>
</span><span class='line'>      <span class="n">return_value</span><span class="o">[</span><span class="n">my_object</span><span class="o">.</span><span class="n">class</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">downcase</span><span class="o">]</span> <span class="o">=</span> <span class="no">Hash</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'>      <span class="n">return_value</span><span class="o">[</span><span class="n">my_object</span><span class="o">.</span><span class="n">class</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">downcase</span><span class="o">][</span><span class="ss">:name</span><span class="o">]</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">class</span>
</span><span class='line'>      <span class="n">return_value</span><span class="o">[</span><span class="n">my_object</span><span class="o">.</span><span class="n">class</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">downcase</span><span class="o">][</span><span class="ss">:count</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="n">return_value</span><span class="o">.</span><span class="n">sort_by</span> <span class="p">{</span><span class="o">|</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="o">|</span> <span class="o">-</span><span class="n">v</span><span class="o">[</span><span class="ss">:count</span><span class="o">]</span><span class="p">}</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="https://blog.engineyard.com/2013/ruby-concurrency">Source</a></p>

<h4>Heap dump</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">GC</span><span class="o">.</span><span class="n">enable_stats</span> <span class="k">if</span> <span class="n">defined?</span><span class="p">(</span><span class="no">GC</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="no">GC</span><span class="o">.</span><span class="n">respond_to?</span><span class="p">(</span><span class="ss">:enable_stats</span><span class="p">)</span>
</span><span class='line'><span class="no">GC</span><span class="o">.</span><span class="n">start</span> <span class="c1"># clean up heap</span>
</span><span class='line'><span class="c1"># ...</span>
</span><span class='line'><span class="c1"># YOUR CODE GOES HERE</span>
</span><span class='line'><span class="c1"># ...</span>
</span><span class='line'><span class="c1"># dump it, including class names of heap objects</span>
</span><span class='line'><span class="no">GC</span><span class="o">.</span><span class="n">dump_file_and_line_info</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="s2">&quot;heap.dump&quot;</span><span class="p">,</span> <span class="n">include_class_names</span><span class="p">:</span> <span class="kp">true</span><span class="p">)</span>
</span><span class='line'><span class="n">stat_string</span> <span class="o">=</span> <span class="s2">&quot;allocated: </span><span class="si">#{</span><span class="no">GC</span><span class="o">.</span><span class="n">allocated_size</span><span class="o">/</span><span class="mi">1024</span><span class="si">}</span><span class="s2">K total in </span><span class="si">#{</span><span class="no">GC</span><span class="o">.</span><span class="n">num_allocations</span><span class="si">}</span><span class="s2"> allocations, GC calls: </span><span class="si">#{</span><span class="no">GC</span><span class="o">.</span><span class="n">collections</span><span class="si">}</span><span class="s2">, GC time: </span><span class="si">#{</span><span class="no">GC</span><span class="o">.</span><span class="n">time</span> <span class="o">/</span> <span class="mi">1000</span><span class="si">}</span><span class="s2"> msec&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Other interesting solutions to check:</h3>

<ul>
<li><a href="https://github.com/tmm1/gdb.rb">gdb7 hooks for MRI</a></li>
<li><a href="http://patshaughnessy.net/2012/3/23/why-you-should-be-excited-about-garbage-collection-in-ruby-2-0">Why You Should Be Excited About Garbage Collection in Ruby 2.0</a></li>
<li><a href="https://github.com/tmm1/rbtrace">Trace for Ruby</a></li>
<li><a href="http://vimeo.com/12748731">GoRuCo 2010 - Aman Gupta - memprof: the ruby level memory profiler</a> - A little bit outdated but very interesting</li>
</ul>


<p><em>Note</em>: the <a href="https://github.com/ice799/memprof">memprof</a> works only with Ruby 1.8.x</p>

<p>My <a href="https://speakerdeck.com/dpaluy/debugging-and-profiling-rails-app">slides</a> at <a href="http://www.rubyunderground.co.il/">RubyUnderground</a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    
<section class="gravatar">
	<span>
		<img src="http://www.gravatar.com/avatar/07fc85c967ba7466aa3d739e6b87a8bb" alt="David Paluy " title="David Paluy" class="photo"/>
    <span>
      David Paluy
      <a href="https://github.com/dpaluy" rel="nofollow" target="_blank" style="float: left;">
        <img width="32" height="32" src="/images/github.png" alt="Follow me on Github" title="Follow me on Github" class="follow_me_ico"/>
      </a>
      <a href="http://il.linkedin.com/in/davidpaluy" target="_blank">
        <img src="http://www.linkedin.com/img/webpromo/btn_myprofile_160x33.png" width="160" height="33" border="0" alt="View David Paluy's profile on LinkedIn">
      </a>
    </span>
	</span>
</section>
<div style="clear: both; margin: 0; padding: 0; height: 0; width: 0"></div>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/09/09/rails-code-quality-tools/">Rails code quality tools</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/09/07/rspec-less-known-features/">RSpec - less known features</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/24/kata-rubyunderground-tlv/">Kata RubyUnderground TLV</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/20/steelcity-ruby-my-first-international-ruby-conference/">SteelCity Ruby - My First International Ruby conference</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/05/my-weekly-read/">My Weekly Read</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("dpaluy", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/dpaluy" class="twitter-follow-button" data-show-count="false">Follow @dpaluy</a>
  
</section>




<section>
  <h1>Tags</h1>
  <ul class="tag-cloud">
<li><a style="font-size: 165%" href="/blog/tags/rubyonrails/">rubyonrails</a></li>
<li><a style="font-size: 147%" href="/blog/tags/ruby/">ruby</a></li>
<li><a style="font-size: 97%" href="/blog/tags/debugging/">debugging</a></li>
<li><a style="font-size: 97%" href="/blog/tags/optimization/">optimization</a></li>
<li><a style="font-size: 97%" href="/blog/tags/tips/">tips</a></li>
<li><a style="font-size: 70%" href="/blog/tags/obfuscate/">obfuscate</a></li>
<li><a style="font-size: 70%" href="/blog/tags/net/">NET</a></li>
<li><a style="font-size: 70%" href="/blog/tags/rest/">REST</a></li>

  </ul>
</section>

<section>
  <h1>Coderwall</h1>
  <ul id="cw_badges">
    <li class="loading">Status updating&#8230;</li>
  </ul>

  <script type="text/javascript">
    var coderwall = (function(){
      function render(options, badges){
        var fragment = '',
            t = $(options.target)[0],
            height = 65,
            width = 65,
            index;

        for (index in badges) {
          fragment += '<a class="cw_badge"title="' + badges[index].description + '" href="http://coderwall.com/' + options.user + '">';
          fragment +=   '<img alt="' + badges[index].description + '" height="' + width + '" width="' + height + '" src="' + badges[index].badge + '"/>';
          fragment += '</a>';
        }

        t.innerHTML = fragment;
      }
      return {
        showBadges: function(options){
          $.ajax({
              url: 'http://coderwall.com/' + options.user + '.json?callback=?'
            , type: 'jsonp'
            , error: function (err) { $(options.target + ' li.loading').addClass('error').text("Error loading feed"); }
            , success: function(res) {
                render(options, res.data.badges);
            }
          });
        }
      };
    })();

    $.domReady(function(){
      if (!window.jXHR){
        var jxhr = document.createElement('script');
        jxhr.type = 'text/javascript';
        jxhr.src = '/javascripts/libs/jXHR.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(jxhr, s);
      }
      if (!window.$){
        var b = document.createElement('script');
        b.type = 'text/javascript';
        b.src = '/javascripts/ender.js';
        var sc = document.getElementsByTagName('script')[0];
        sc.parentNode.insertBefore(jxhr, s);
      }
      coderwall.showBadges({
        user: 'dpaluy',
        target: '#cw_badges'
      });
    });
  </script>
  <style type="text/css">
    .cw_badge img {
      padding: 5px;
      border: 0 none !important;
      -moz-box-shadow: none !important;
      -webkit-box-shadow: none !important;
      -o-box-shadow: none !important;
      box-shadow: none !important;
    }
  </style>
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - David Paluy -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  - <span class="credit">Theme by <a href="http://www.gehaxelt.in">Gehaxelt</a></span>
  <span class="credit">and <a href="http://www.it-solutions-neef.de">IT Solutions Neef</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'paluyonmiscellaneous';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
